!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Popmicro",[],t):"object"==typeof exports?exports.Popmicro=t():e.Popmicro=t()}(window,(function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(1);var o=i(n(2));t.default=o.default},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o={element:".popmicro",sizeType:"none",dropShadow:"xl"},r=function(){function e(e){void 0===e&&(e=o),this.settings=Object.assign({},o,e),this.triggers=document.querySelectorAll("a"+this.settings.element),this.scaffold={main:i.createClassedElement("div","popmicro__wrapper"),inner:i.createClassedElement("div","popmicro__inner"),close:i.createClassedElement("button","popmicro__close")},this.inlineDomPosition=null,this.mount()}return e.prototype.mount=function(){var e=this.triggers.length;i.handleError(e,"No link triggers have been found of type "+this.settings.element,!0),this.scaffoldHTML(),this.addEvents(),this.hideHookedElements()},e.prototype.open=function(e){var t=this,n=this.scaffold,o=n.main,r=n.inner;switch(i.getHookType(e)){case"image":r.innerHTML='<img class="popmicro__direct-image" src="'+e+'" />',this.inlineDomPosition=null;break;case"inline":var s=document.querySelector(e);if(s){var a=function(e){var n=t.settings.sizeType,i="";switch(!0){default:case"full"===n:i="height: 100%; width: 100%";break;case"none"===n:i="";break;case"object"==typeof n&&n.hasOwnProperty("width"):i="width: 100%; max-width: "+n.width+";",n.hasOwnProperty("height")&&(i+="height: 100%; max-height: "+n.height)}return{size:i,userContentSize:"height: 100%; width: 100%"}}(),c=a.size,l=a.userContentSize,p=s.parentNode,d=s.nextElementSibling;this.inlineDomPosition={parent:p,sibling:d},s.style.cssText+=l,r.style.cssText=c,r.innerHTML="",r.appendChild(s),s.classList.contains("popmicro__hide")&&s.classList.remove("popmicro__hide")}}document.body.appendChild(o)},e.prototype.close=function(){var e,t,n,i=this.scaffold,o=i.main,r=i.inner,s=r.querySelector(":scope > *");s&&(s.classList.contains("popmicro__direct-image")||s.classList.add("popmicro__hide")),s&&(null===(e=this.inlineDomPosition)||void 0===e?void 0:e.sibling)&&(null===(t=this.inlineDomPosition)||void 0===t?void 0:t.parent)?this.inlineDomPosition.parent.insertBefore(s,this.inlineDomPosition.sibling):s&&(null===(n=this.inlineDomPosition)||void 0===n?void 0:n.parent)?this.inlineDomPosition.parent.appendChild(s):r.innerHTML="",document.body.removeChild(o),r.style.cssText="",this.inlineDomPosition=null},e.prototype.addEvents=function(){var e=this;this.scaffold.close.addEventListener("click",(function(){return e.close()})),this.triggers.length&&this.triggers.forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault();var n=t.target.getAttribute("href");n&&e.open(n)}))}))},e.prototype.scaffoldHTML=function(){var e=this.scaffold,t=e.main,n=e.inner,o=e.close;i.setShadowType(this.settings.dropShadow),t.append(o,n)},e.prototype.hideHookedElements=function(){this.triggers.forEach((function(e){var t=e.hasAttribute("href")&&e.getAttribute("href"),n=i.getHookType(t);if(t&&n&&"image"!==n){var o=document.querySelector(t);null==o||o.classList.add("popmicro__hide")}}))},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setShadowType=t.getHookType=t.createClassedElement=t.handleError=void 0,t.handleError=function(e,t,n){if(void 0===t&&(t="Something went wrong"),void 0===n&&(n=!1),e)return e;if(n)return console.warn("Popmicro: "+t),null;throw Error("Popmicro: "+t)},t.createClassedElement=function(e,t){var n=document.createElement(e);return"string"==typeof t?n.classList.add(t):"object"==typeof t&&t.length&&t.forEach((function(e){n.classList.add(e)})),n},t.getHookType=function(e){return null!==e.match(/\.(jpeg|jpg|jpe|gif|png|apn|webp|svg)$/)?"image":e.match(/^\.|\#/)?"inline":null},t.setShadowType=function(e){void 0===e&&(e="xl");var t=document.documentElement,n="0 25px 50px -12px rgba(0, 0, 0, 0.25)";switch(e){case"none":n="none";break;case"sm":n="0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)";break;case"md":n="0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)";break;case"lg":n="0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)";break;case"xl":n="0 25px 50px -12px rgba(0, 0, 0, 0.25)";break;default:n=e}t.style.setProperty("--popmicro-shadow",n)}}]).default}));